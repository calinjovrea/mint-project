{"ast":null,"code":"import _asyncToGenerator from\"/home/calinj/Documents/poorpandasnfts/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/calinj/Documents/poorpandasnfts/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/home/calinj/Documents/poorpandasnfts/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import _regeneratorRuntime from\"/home/calinj/Documents/poorpandasnfts/node_modules/@babel/runtime/regenerator/index.js\";import styled from'styled-components';import Button from'@material-ui/core/Button';import{CircularProgress}from'@material-ui/core';import{GatewayStatus,useGateway}from'@civic/solana-gateway-react';import{useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";export var CTAButton=styled(Button)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 60px;\\n  margin-top: 10px;\\n  margin-bottom: 5px;\\n  background: linear-gradient(180deg, #604ae5 0%, #813eee 100%);\\n  color: white;\\n  font-size: 16px;\\n  font-weight: bold;\\n\"])));// add your own styles here\nexport var MintButton=function MintButton(_ref){var onMint=_ref.onMint,candyMachine=_ref.candyMachine,isMinting=_ref.isMinting,isActive=_ref.isActive;var _useGateway=useGateway(),requestGatewayToken=_useGateway.requestGatewayToken,gatewayStatus=_useGateway.gatewayStatus;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),clicked=_useState2[0],setClicked=_useState2[1];useEffect(function(){if(gatewayStatus===GatewayStatus.ACTIVE&&clicked){onMint();setClicked(false);}},[gatewayStatus,clicked,setClicked,onMint]);var getMintButtonContent=function getMintButtonContent(){if(candyMachine!==null&&candyMachine!==void 0&&candyMachine.state.isSoldOut){return'SOLD OUT';}else if(isMinting){return/*#__PURE__*/_jsx(CircularProgress,{});}else if(candyMachine!==null&&candyMachine!==void 0&&candyMachine.state.isPresale||candyMachine!==null&&candyMachine!==void 0&&candyMachine.state.isWhitelistOnly){return'WHITELIST MINT';}else if(clicked&&candyMachine!==null&&candyMachine!==void 0&&candyMachine.state.gatekeeper){return/*#__PURE__*/_jsx(CircularProgress,{});}return'MINT';};return/*#__PURE__*/_jsx(CTAButton,{disabled:clicked||isMinting||!isActive,onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setClicked(true);if(!(candyMachine!==null&&candyMachine!==void 0&&candyMachine.state.isActive&&candyMachine!==null&&candyMachine!==void 0&&candyMachine.state.gatekeeper)){_context.next=10;break;}if(!(gatewayStatus===GatewayStatus.ACTIVE)){_context.next=6;break;}setClicked(true);_context.next=8;break;case 6:_context.next=8;return requestGatewayToken();case 8:_context.next=13;break;case 10:_context.next=12;return onMint();case 12:setClicked(false);case 13:case\"end\":return _context.stop();}}},_callee);})),variant:\"contained\",children:getMintButtonContent()});};","map":{"version":3,"sources":["/home/calinj/Documents/poorpandasnfts/src/MintButton.tsx"],"names":["styled","Button","CircularProgress","GatewayStatus","useGateway","useEffect","useState","CTAButton","MintButton","onMint","candyMachine","isMinting","isActive","requestGatewayToken","gatewayStatus","clicked","setClicked","ACTIVE","getMintButtonContent","state","isSoldOut","isPresale","isWhitelistOnly","gatekeeper"],"mappings":"mhBAAA,MAAOA,CAAAA,MAAP,KAAmB,mBAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CAEA,OAASC,gBAAT,KAAiC,mBAAjC,CACA,OAASC,aAAT,CAAwBC,UAAxB,KAA0C,6BAA1C,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,C,2CAEA,MAAO,IAAMC,CAAAA,SAAS,CAAGP,MAAM,CAACC,MAAD,CAAT,6QAAf,CASJ;AAEH,MAAO,IAAMO,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,MAUpB,IATJC,CAAAA,MASI,MATJA,MASI,CARJC,YAQI,MARJA,YAQI,CAPJC,SAOI,MAPJA,SAOI,CANJC,QAMI,MANJA,QAMI,CACJ,gBAA+CR,UAAU,EAAzD,CAAQS,mBAAR,aAAQA,mBAAR,CAA6BC,aAA7B,aAA6BA,aAA7B,CACA,cAA8BR,QAAQ,CAAC,KAAD,CAAtC,wCAAOS,OAAP,eAAgBC,UAAhB,eAEAX,SAAS,CAAC,UAAM,CACd,GAAIS,aAAa,GAAKX,aAAa,CAACc,MAAhC,EAA0CF,OAA9C,CAAuD,CACrDN,MAAM,GACNO,UAAU,CAAC,KAAD,CAAV,CACD,CACF,CALQ,CAKN,CAACF,aAAD,CAAgBC,OAAhB,CAAyBC,UAAzB,CAAqCP,MAArC,CALM,CAAT,CAOA,GAAMS,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,EAAM,CACjC,GAAIR,YAAJ,SAAIA,YAAJ,WAAIA,YAAY,CAAES,KAAd,CAAoBC,SAAxB,CAAmC,CACjC,MAAO,UAAP,CACD,CAFD,IAEO,IAAIT,SAAJ,CAAe,CACpB,mBAAO,KAAC,gBAAD,IAAP,CACD,CAFM,IAEA,IACLD,YAAY,OAAZ,EAAAA,YAAY,SAAZ,EAAAA,YAAY,CAAES,KAAd,CAAoBE,SAApB,EACAX,YADA,SACAA,YADA,WACAA,YAAY,CAAES,KAAd,CAAoBG,eAFf,CAGL,CACA,MAAO,gBAAP,CACD,CALM,IAKA,IAAIP,OAAO,EAAIL,YAAJ,SAAIA,YAAJ,WAAIA,YAAY,CAAES,KAAd,CAAoBI,UAAnC,CAA+C,CACpD,mBAAO,KAAC,gBAAD,IAAP,CACD,CAED,MAAO,MAAP,CACD,CAfD,CAiBA,mBACE,KAAC,SAAD,EACE,QAAQ,CAAER,OAAO,EAAIJ,SAAX,EAAwB,CAACC,QADrC,CAEE,OAAO,sEAAE,mIACPI,UAAU,CAAC,IAAD,CAAV,CADO,KAEHN,YAAY,OAAZ,EAAAA,YAAY,SAAZ,EAAAA,YAAY,CAAES,KAAd,CAAoBP,QAApB,EAAgCF,YAAhC,SAAgCA,YAAhC,WAAgCA,YAAY,CAAES,KAAd,CAAoBI,UAFjD,gCAGDT,aAAa,GAAKX,aAAa,CAACc,MAH/B,0BAIHD,UAAU,CAAC,IAAD,CAAV,CAJG,mDAMGH,CAAAA,mBAAmB,EANtB,8DASCJ,CAAAA,MAAM,EATP,SAULO,UAAU,CAAC,KAAD,CAAV,CAVK,uDAAF,EAFT,CAeE,OAAO,CAAC,WAfV,UAiBGE,oBAAoB,EAjBvB,EADF,CAqBD,CA3DM","sourcesContent":["import styled from 'styled-components';\nimport Button from '@material-ui/core/Button';\nimport { CandyMachineAccount } from './candy-machine';\nimport { CircularProgress } from '@material-ui/core';\nimport { GatewayStatus, useGateway } from '@civic/solana-gateway-react';\nimport { useEffect, useState } from 'react';\n\nexport const CTAButton = styled(Button)`\n  width: 100%;\n  height: 60px;\n  margin-top: 10px;\n  margin-bottom: 5px;\n  background: linear-gradient(180deg, #604ae5 0%, #813eee 100%);\n  color: white;\n  font-size: 16px;\n  font-weight: bold;\n`; // add your own styles here\n\nexport const MintButton = ({\n  onMint,\n  candyMachine,\n  isMinting,\n  isActive,\n}: {\n  onMint: () => Promise<void>;\n  candyMachine?: CandyMachineAccount;\n  isMinting: boolean;\n  isActive: boolean;\n}) => {\n  const { requestGatewayToken, gatewayStatus } = useGateway();\n  const [clicked, setClicked] = useState(false);\n\n  useEffect(() => {\n    if (gatewayStatus === GatewayStatus.ACTIVE && clicked) {\n      onMint();\n      setClicked(false);\n    }\n  }, [gatewayStatus, clicked, setClicked, onMint]);\n\n  const getMintButtonContent = () => {\n    if (candyMachine?.state.isSoldOut) {\n      return 'SOLD OUT';\n    } else if (isMinting) {\n      return <CircularProgress />;\n    } else if (\n      candyMachine?.state.isPresale ||\n      candyMachine?.state.isWhitelistOnly\n    ) {\n      return 'WHITELIST MINT';\n    } else if (clicked && candyMachine?.state.gatekeeper) {\n      return <CircularProgress />;\n    }\n\n    return 'MINT';\n  };\n\n  return (\n    <CTAButton\n      disabled={clicked || isMinting || !isActive}\n      onClick={async () => {\n        setClicked(true);\n        if (candyMachine?.state.isActive && candyMachine?.state.gatekeeper) {\n          if (gatewayStatus === GatewayStatus.ACTIVE) {\n            setClicked(true);\n          } else {\n            await requestGatewayToken();\n          }\n        } else {\n          await onMint();\n          setClicked(false);\n        }\n      }}\n      variant=\"contained\"\n    >\n      {getMintButtonContent()}\n    </CTAButton>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}